<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Earning App</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <!-- Notifications -->
        <div id="notification" class="notification"></div>
        <!-- Auth Section -->
        <div id="auth-section" class="auth-section">
            <div class="login-toggle">
                <button id="user-login-btn" class="active">User Login</button>
                <button id="admin-login-btn">Admin Login</button>
            </div>
            <form id="login-form">
                <h2>User Login</h2>
                <input type="text" id="login-username" placeholder="Email" required>
                <input type="password" id="login-password" placeholder="Password" required>
                <button type="submit">Login</button>
                <p>Ya <a href="#" id="show-signup">Sign Up</a></p>
            </form>
            <form id="signup-form" style="display:none;">
                <h2>Sign Up</h2>
                <input type="text" id="signup-username" placeholder="Email" required>
                <input type="password" id="signup-password" placeholder="Password" required>
                <button type="submit">Sign Up</button>
                <p>Already have an account? <a href="#" id="show-login">Login</a></p>
            </form>
            <form id="admin-login-form" style="display:none;">
                <h2>Admin Login</h2>
                <input type="text" id="admin-username" placeholder="Admin Username" required>
                <input type="password" id="admin-password" placeholder="Password" required>
                <button type="submit">Login as Admin</button>
            </form>
        </div>
        <!-- Dashboard Section -->
        <div id="dashboard" class="dashboard" style="display:none;">
            <nav class="navbar">
                <span class="logo">EarningApp</span>
                <button id="logout-btn">Logout</button>
            </nav>
            <section class="summary">
                <h2>Welcome, <span id="user-name"></span>!</h2>
                <div class="cards">
                    <div class="card">
                        <h3>Total Earnings</h3>
                        <p id="total-earnings">‚Çπ0</p>
                    </div>
                    <div class="card">
                        <h3>Available Balance</h3>
                        <p id="available-balance">‚Çπ0</p>
                    </div>
                </div>
            </section>
            <section class="history">
                <h3>Earning History</h3>
                <table>
                    <thead>
                        <tr>
                            <th>Date</th>
                            <th>Description</th>
                            <th>Amount</th>
                        </tr>
                    </thead>
                    <tbody id="history-body">
                        <!-- Earning rows -->
                    </tbody>
                </table>
            </section>
            <section class="withdrawal">
                <h3>Withdraw Funds</h3>
                <form id="withdraw-form">
                    <input type="number" id="withdraw-amount" placeholder="Amount (‚Çπ)" min="1" required>
                    <button type="submit">Withdraw</button>
                </form>
            </section>
            <section class="ad-earn">
                <h3>Watch Ad & Earn</h3>
                <div class="ad-info">
                    <p style="font-size: 0.9rem; color: #6c757d; margin-bottom: 10px;">
                        üì∫ Daily Limit: 10 ads | ‚è±Ô∏è Watch Time: 30 seconds | üí∞ Earn: 5-50 coins per ad
                    </p>
                </div>
                <button id="watch-ad-btn">Watch Ad</button>
                <div class="ad-earn-info">
                    <span id="ad-earn-result"></span>
                </div>
                <div id="ad-modal" class="ad-modal" style="display:none;">
                    <div class="ad-modal-content">
                        <div class="ad-header">
                            <h3>Watch Ad to Earn Coins</h3>
                            <div class="ad-timer">Time remaining: <span id="ad-timer">30</span>s</div>
                        </div>
                        <div class="ad-body">
                            <div id="adsterra-ad-container">
                                <!-- Real Profitableratecpm Ad Code -->
                                <script type='text/javascript' src='//pl26966132.profitableratecpm.com/a3/3e/5d/a33e5d9ade14b1fba1a5218849b4e764.js'></script>
                                
                                <!-- Demo Ad Fallback (shows if real ad fails to load) -->
                                <div class="demo-ad" id="demo-ad" style="display: none;">
                                    <div class="ad-placeholder">
                                        <h4>üì∫ Advertisement</h4>
                                        <p>Ad loading... Please wait</p>
                                        <div class="ad-progress">
                                            <div class="progress-bar"></div>
                                        </div>
                                        <div style="margin-top: 15px; font-size: 0.85rem; color: #6c757d;">
                                            <strong>Real Ad Mode:</strong> 30 seconds timer
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="ad-footer">
                            <button id="close-ad-modal" disabled>Close Ad</button>
                            <p class="ad-note">Please watch the complete ad to earn coins</p>
                        </div>
                    </div>
                </div>
            </section>
        </div>
        <!-- Admin Panel Section -->
        <div id="admin-panel" class="admin-panel" style="display:none;">
            <div style='color:red;text-align:center;'>Admin Panel Test</div>
            <nav class="navbar">
                <span class="logo">Admin Panel</span>
                <button id="admin-logout-btn">Logout</button>
            </nav>
            <section class="admin-summary">
                <div class="admin-cards">
                    <div class="admin-card">
                        <div class="admin-card-title">Total Users</div>
                        <div class="admin-card-value" id="admin-total-users">0</div>
                    </div>
                    <div class="admin-card">
                        <div class="admin-card-title">Total Earnings</div>
                        <div class="admin-card-value" id="admin-total-earnings">‚Çπ0</div>
                    </div>
                    <div class="admin-card">
                        <div class="admin-card-title">Pending Withdrawals</div>
                        <div class="admin-card-value" id="admin-pending-withdrawals">0</div>
                    </div>
                </div>
            </section>
            <section class="admin-users">
                <h3>Users List</h3>
                <ul id="users-list"></ul>
            </section>
            <section class="admin-earnings">
                <h3>All Earnings</h3>
                <table>
                    <thead>
                        <tr>
                            <th>User</th>
                            <th>Date</th>
                            <th>Description</th>
                            <th>Amount</th>
                        </tr>
                    </thead>
                    <tbody id="admin-earnings-body"></tbody>
                </table>
            </section>
            <section class="admin-withdrawals">
                <h3>Withdrawal Requests</h3>
                <ul id="withdrawal-requests"></ul>
            </section>
            <section class="admin-notifications">
                <h3>Send Notification</h3>
                <form id="admin-notify-form">
                    <input type="text" id="notify-message" placeholder="Message" required>
                    <button type="submit">Send</button>
                </form>
            </section>
        </div>
    </div>
    <script src="script.js"></script>
    <!-- Firebase App (the core Firebase SDK) -->
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
    <!-- Firebase Auth -->
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth-compat.js"></script>
    <script>
      // Firebase config
      const firebaseConfig = {
        apiKey: "AIzaSyBTlrSb6qAOrGvpkxh7n63ZSJB45j9Vhvk",
        authDomain: "earn-app-4c786.firebaseapp.com",
        projectId: "earn-app-4c786",
        storageBucket: "earn-app-4c786.firebasestorage.app",
        messagingSenderId: "211621377445",
        appId: "1:211621377445:web:67f9e6c96b147f9256e44c",
        measurementId: "G-VFH1701J0S"
      };
      firebase.initializeApp(firebaseConfig);
    </script>
</body>
</html> 